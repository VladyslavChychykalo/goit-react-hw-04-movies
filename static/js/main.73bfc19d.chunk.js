(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{35:function(e,t,n){e.exports=n(73)},73:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(31),o=n.n(c),i=n(4),l=n(14),u={color:"palevioletred"},s=function(){return a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(i.c,{to:"/",exact:!0,activeStyle:u},"Home")),a.a.createElement("li",null,a.a.createElement(i.c,{to:"/movies",activeStyle:u},"Movies")))},p=n(5),m=n(6),h=n(8),v=n(7),f=n(9),b=n(15),y=n.n(b),d="81fd4871d370f3527eeb90ebea46cab5",O=function(e){var t="https://api.themoviedb.org/3/search/movie?api_key=".concat(d,"&query=").concat(e);return y.a.get(t).then((function(e){return e.data}))},g=Object(l.f)((function(e){var t=e.items,n=e.location;return a.a.createElement("ul",null,t.map((function(e){return a.a.createElement("li",{key:e.id},a.a.createElement(i.b,{to:{pathname:"/movies/".concat(e.id),state:{from:n}}},e.title))})))})),j=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={items:[]},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(){var e="https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(d);return y.a.get(e).then((function(e){return e.data}))})().then((function(t){return e.setState({items:t.results})}))}},{key:"render",value:function(){var e=this.state.items;return a.a.createElement("div",null,a.a.createElement("h1",null,"Trending today"),a.a.createElement(g,{items:e}))}}]),t}(r.Component),E=n(13),w=n(34),k=n.n(w),P=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={query:n.props.value||""},n.handlseSubmit=function(e){var t=n.state.query;e.preventDefault(),n.setState({query:""}),n.props.onChange(t)},n.handleChange=function(e){n.setState({query:e.target.value})},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.query;return a.a.createElement("form",{onSubmit:this.handlseSubmit},a.a.createElement("input",{type:"text",value:e,onChange:this.handleChange}),a.a.createElement("button",{type:"submit"},"Search"))}}]),t}(r.Component);P.defaultProps={value:""};var D=P;function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=function(e){return k.a.parse(e.search).query},x=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={items:[]},n.handleCategoryChange=function(e){var t=n.props,r=t.history,a=t.location;return r.push(C({},a,""!==e?{search:"query=".concat(e)}:{search:""}))},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location,n=q(t);O(n).then((function(t){return e.setState({items:t.results})}))}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.location,r=q(e.location),a=q(n);r!==a&&O(a).then((function(e){return t.setState({items:e.results})}))}},{key:"render",value:function(){var e=this.state.items,t=this.props.location,n=q(t);return a.a.createElement("div",null,a.a.createElement(D,{onChange:this.handleCategoryChange,value:n}),e.length>0&&a.a.createElement(g,{items:e}))}}]),t}(r.Component),A=function(e){var t=e.onClick,n=e.movies;return a.a.createElement("div",null,n.map((function(e){return a.a.createElement("div",{key:e.id},a.a.createElement("button",{type:"button",onClick:t},"Go back"),a.a.createElement("div",null,a.a.createElement("img",{src:null!==e.link?"http://image.tmdb.org/t/p/original".concat(e.link):"http://image.tmdb.org/t/p/original/zUqyn3aQXTzeP1n8yd8Udt1twYA.jpg",alt:"",style:{width:"400px",height:"500px"}}),a.a.createElement("h1",null,e.title),a.a.createElement("p",null,e.overview),e.genres.map((function(e){return a.a.createElement("p",{key:e.id},e.name)}))),a.a.createElement("div",null,a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(i.b,{to:"/movies/".concat(e.id,"/cast")},"Cast")),a.a.createElement("li",null,a.a.createElement(i.b,{to:"/movies/".concat(e.id,"/reviews")},"Review")))))})))},_=function(e){var t=e.link,n=e.name,r=e.character,c=e.alt;return a.a.createElement("div",null,a.a.createElement("img",{src:null===t?"http://image.tmdb.org/t/p/original/zUqyn3aQXTzeP1n8yd8Udt1twYA.jpg":"http://image.tmdb.org/t/p/original".concat(t),alt:c,style:{width:"185px",height:"200px"}}),a.a.createElement("p",null,n),a.a.createElement("p",null,r))};_.defaultProps={link:"http://image.tmdb.org/t/p/original/zUqyn3aQXTzeP1n8yd8Udt1twYA.jpg",alt:"cast_image"};var U=_,z=function(e){var t=e.cast;return a.a.createElement("div",null,t.map((function(e){return a.a.createElement("div",{key:e.id},a.a.createElement(U,e))})))},M=n(17);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var B=function(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({link:e.profile_path},Object(M.a)(e,["profile_path"]))}))},G=function(e){return e.match.params.id},Q=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={cast:[]},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(e){var t="https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(d);return y.a.get(t).then((function(e){return e.data}))})(G(this.props)).then((function(t){return e.setState({cast:t.cast})}))}},{key:"render",value:function(){var e=this.state.cast,t=B(e);return a.a.createElement("div",null,a.a.createElement(z,{cast:t}))}}]),t}(r.Component),W=function(e){var t=e.results;return a.a.createElement("div",null,0===t.length?a.a.createElement("p",null,"We dont have reviews for this movie"):t.map((function(e){var t=e.id,n=e.author,r=e.content;return a.a.createElement("div",{key:t},a.a.createElement("p",null,n),a.a.createElement("p",null,r))})))},X=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={results:[]},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(e){var t="https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(d);return y.a.get(t)})(G(this.props)).then((function(t){return e.setState({results:t.data.results})}))}},{key:"render",value:function(){var e=this.state.results;return a.a.createElement("div",null,0===e.length?a.a.createElement("p",null,"We dont have any reviews for this movie"):a.a.createElement(W,{results:e}))}}]),t}(r.Component);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var J=function(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({link:e.poster_path},Object(M.a)(e,["poster_path"]))}))};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={movie:[]},n.handleGoBack=function(){var e=n.props,t=e.history,r=e.location;return t.push(r.state?r.state.from:"/")},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(e){var t="https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(d);return y.a.get(t).then((function(e){return e.data}))})(G(this.props)).then((function(t){return e.setState({movie:[H({},t)]})}))}},{key:"render",value:function(){var e=this.state.movie,t=J(e);return a.a.createElement("div",null,e&&a.a.createElement(A,{onClick:this.handleGoBack,movies:t}),a.a.createElement(l.a,{path:"/movies/:id/cast",component:Q}),a.a.createElement(l.a,{path:"/movies/:id/reviews",component:X}))}}]),t}(r.Component),L=function(){return a.a.createElement("h1",{style:{textAlign:"center"}},"Sorry, page not found",a.a.createElement("span",{role:"img","aria-label":"emoji"},"\ud83e\udd14"))},F={maxWidth:1170,marginLeft:"auto",marginRight:"auto",padding:"0 16px"},K=function(){return a.a.createElement("div",{style:F},a.a.createElement(s,null),a.a.createElement(l.c,null,a.a.createElement(l.a,{path:"/",exact:!0,component:j}),a.a.createElement(l.a,{path:"/movies/:id",component:I}),a.a.createElement(l.a,{path:"/movies",component:x}),a.a.createElement(l.a,{component:L})))};o.a.render(a.a.createElement(i.a,{basename:"/"},a.a.createElement(l.a,{component:K})),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.73bfc19d.chunk.js.map