(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{35:function(e,t,n){e.exports=n(73)},73:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(31),o=n.n(c),i=n(4),l=n(13),u={color:"palevioletred"},s=function(){return r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.c,{to:"/",exact:!0,activeStyle:u},"Home")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/movies",activeStyle:u},"Movies")))},p=n(5),m=n(6),h=n(8),v=n(7),f=n(9),b=n(15),y=n.n(b),d="81fd4871d370f3527eeb90ebea46cab5",g=function(e){var t="https://api.themoviedb.org/3/search/movie?api_key=".concat(d,"&query=").concat(e);return y.a.get(t).then((function(e){return e.data}))},O=Object(l.f)((function(e){var t=e.items,n=e.location;return r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(i.b,{to:{pathname:"/movies/".concat(e.id),state:{from:n}}},e.title))})))})),E=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={items:[]},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(){var e="https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(d);return y.a.get(e).then((function(e){return e.data}))})().then((function(t){return e.setState({items:t.results})}))}},{key:"render",value:function(){var e=this.state.items;return r.a.createElement("div",null,r.a.createElement("h1",null,"Trending today"),r.a.createElement(O,{items:e}))}}]),t}(a.Component),j=n(14),w=n(34),k=n.n(w),P=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={query:n.props.value||""},n.handlseSubmit=function(e){var t=n.state.query;e.preventDefault(),n.setState({query:""}),n.props.onChange(t)},n.handleChange=function(e){n.setState({query:e.target.value})},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.query;return r.a.createElement("form",{onSubmit:this.handlseSubmit},r.a.createElement("input",{type:"text",value:e,onChange:this.handleChange}),r.a.createElement("button",{type:"submit"},"Search"))}}]),t}(a.Component);P.defaultProps={value:""};var S=P;function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=function(e){return k.a.parse(e.search).query},x=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={items:[]},n.handleCategoryChange=function(e){var t=n.props,a=t.history,r=t.location;return a.push(D({},r,""!==e?{search:"query=".concat(e)}:{search:""}))},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location,n=q(t);g(n).then((function(t){return e.setState({items:t.results})}))}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.location,a=q(e.location),r=q(n);a!==r&&g(r).then((function(e){return t.setState({items:e.results})}))}},{key:"render",value:function(){var e=this.state.items,t=this.props.location,n=q(t);return r.a.createElement("div",null,r.a.createElement(S,{onChange:this.handleCategoryChange,value:n}),e.length>0&&r.a.createElement(O,{items:e}))}}]),t}(a.Component),A=n(17),_=function(e){var t=e.onClick,n=e.movies;return r.a.createElement("div",null,n.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("button",{type:"button",onClick:t},"Go back"),r.a.createElement("div",null,r.a.createElement("img",{src:null!==e.link?"http://image.tmdb.org/t/p/original".concat(e.link):"http://image.tmdb.org/t/p/original/zUqyn3aQXTzeP1n8yd8Udt1twYA.jpg",alt:"",style:{width:"400px",height:"500px"}}),r.a.createElement("h1",null,e.title),r.a.createElement("p",null,e.overview),e.genres.map((function(e){return r.a.createElement("p",{key:e.id},e.name)}))),r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/movies/".concat(e.id,"/cast")},"Cast")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/movies/".concat(e.id,"/reviews")},"Review")))))})))},U=function(e){var t=e.link,n=e.name,a=e.character,c=e.alt;return r.a.createElement("div",null,r.a.createElement("img",{src:null===t?"http://image.tmdb.org/t/p/original/zUqyn3aQXTzeP1n8yd8Udt1twYA.jpg":"http://image.tmdb.org/t/p/original".concat(t),alt:c,style:{width:"185px",height:"200px"}}),r.a.createElement("p",null,n),r.a.createElement("p",null,a))};U.defaultProps={link:"http://image.tmdb.org/t/p/original/zUqyn3aQXTzeP1n8yd8Udt1twYA.jpg",alt:"cast_image"};var z=U,M=function(e){var t=e.cast;return r.a.createElement("div",null,t.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(z,e))})))};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var B=function(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({link:e.profile_path},Object(A.a)(e,["profile_path"]))}))},G=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={cast:[]},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(e){var t="https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(d);return y.a.get(t).then((function(e){return e.data}))})(this.props.match.params.id).then((function(t){return e.setState({cast:t.cast})}))}},{key:"render",value:function(){var e=this.state.cast,t=B(e);return r.a.createElement("div",null,r.a.createElement(M,{cast:t}))}}]),t}(a.Component),Q=function(e){var t=e.results;return r.a.createElement("div",null,0===t.length?r.a.createElement("p",null,"We dont have reviews for this movie"):t.map((function(e){var t=e.id,n=e.author,a=e.content;return r.a.createElement("div",{key:t},r.a.createElement("p",null,n),r.a.createElement("p",null,a))})))},W=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={results:[]},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(e){var t="https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(d);return y.a.get(t)})(this.props.match.params.id).then((function(t){return e.setState({results:t.data.results})}))}},{key:"render",value:function(){var e=this.state.results;return r.a.createElement("div",null,0===e.length?r.a.createElement("p",null,"We dont have any reviews for this movie"):r.a.createElement(Q,{results:e}))}}]),t}(a.Component);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={movie:[]},n.handleGoBack=function(){var e=n.props,t=e.history,a=e.location;return t.push(a.state?a.state.from:"/")},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(e){var t="https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(d);return y.a.get(t).then((function(e){return e.data}))})(this.props.match.params.id).then((function(t){return e.setState({movie:[Y({},t)]})}))}},{key:"render",value:function(){var e=this.state.movie,t=function(e){return e.map((function(e){return Y({link:e.poster_path},Object(A.a)(e,["poster_path"]))}))}(e);return r.a.createElement("div",null,e&&r.a.createElement(_,{onClick:this.handleGoBack,movies:t}),r.a.createElement(l.a,{path:"/movies/:id/cast",component:G}),r.a.createElement(l.a,{path:"/movies/:id/reviews",component:W}))}}]),t}(a.Component),R=function(){return r.a.createElement("h1",{style:{textAlign:"center"}},"Sorry, page not found",r.a.createElement("span",{role:"img","aria-label":"emoji"},"\ud83e\udd14"))},H={maxWidth:1170,marginLeft:"auto",marginRight:"auto",padding:"0 16px"},I=function(){return r.a.createElement("div",{style:H},r.a.createElement(s,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",exact:!0,component:E}),r.a.createElement(l.a,{path:"/movies/:id",component:J}),r.a.createElement(l.a,{path:"/movies",component:x}),r.a.createElement(l.a,{component:R})))};o.a.render(r.a.createElement(i.a,{basename:"/goit-react-hw-04-movies/"},r.a.createElement(l.a,{component:I})),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.64590b87.chunk.js.map